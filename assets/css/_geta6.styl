@import 'nib'
@import 'utils'

global-reset()

$gridbase = 48px
$browseheight = 36px
$blocksheight = 24px
$lettercolor = #222
$bordercolor = #CCC
$browsecolor = #DDD
$groundcolor = #EEE
$linkcolor = #777
$hovercolor = #4A5
$activecolor = #A54

*
  -webkit-text-size-adjust 100%
  box-sizing border-box
  vertical-align top

html, body
  background $groundcolor
  font-size 12px
  font-family 'Open Sans', Sans-Serif
  font-smoothing antialiased
  color $lettercolor

// Elements

a
  color $linkcolor
  text-decoration none
  transition-duration .12s
  &:hover
    color $hovercolor

input
  position relative
  display inline-block
  margin 0
  padding 5px 10px
  font-size inherit
  font-family inherit
  line-height inherit !important
  color #333
  white-space nowrap
  background-color #FFF
  background-repeat no-repeat
  background-position right center
  border 1px solid #CCC
  box-shadow inset 0 1px 2px rgba(0,0,0,0.075)
  transition all 0.15s ease-in
  touch-callout none
  appearance none
  resize none
  outline none
  &:focus, &.focus
    border-color #51a7e8
    box-shadow inset 0 1px 2px rgba(0,0,0,0.075),0 0 5px rgba(81,167,232,0.5)


// Element

aside
  z-index 100
  location fixed $gridbase 0 auto auto
  padding 5px 5px 0 0
  width auto
  & > div
    opacity 0
  .flash
    float right
    display block
    margin 2px
    padding 3px 5px
    color white
    font-weight bold
    font-size 10px
    background rgba(0,0,0,.72)
    border-radius 2px
    &.success
      background rgba(20,180,20,.72)
    &.failure
      background rgba(180,20,20,.72)
    &.debug
      background rgba(180,180,180,.72)
  .clear
    clearfix()

header
  z-index 110
  location fixed 0 0 auto 0
  height $gridbase
  border-bottom 1px solid $bordercolor
  background $groundcolor
  #searchbox
    z-index 109
    location absolute -1*$gridbase 0 auto 0
    height $gridbase
    background $groundcolor
    input
      height $gridbase
      width 100%
  .nav
    display none
    height $gridbase
    line-height $gridbase
    #sortby
      font-size 12px
    .selected
      color $activecolor
      *
        color $activecolor
    .open
      display none
      location absolute $gridbase 0 auto -1px
      width $gridbase
      border 1px solid $bordercolor
      border-top none
      background $groundcolor
      li
        display block
        position relative
        vertical-align top
        font-size 10px
        border-top none
        border-left none !important
        border-bottom 1px solid $browsecolor
        &:last-child
          border-bottom none
        i:first-child
          margin-right 2px

    li
      display inline-block
      position relative
      min-width $gridbase - 1px
      height $gridbase - 1px
      font-size 16px
      text-align center
      color #777
      a
        display block
        location absolute 0 0 0 0
    &.page
      float left
      li
        border-right 1px solid $bordercolor
    &.site
      float right
      li
        border-left 1px solid $bordercolor
    &.load
      display none
      location absolute 0 0 auto 0
      height 4px
      background-color $groundcolor
      background-image url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC')
      border-bottom 1px solid $bordercolor

nav
  margin-top -1px
  padding 10px
  line-height $gridbase - 21px
  border-bottom 1px solid $bordercolor
  i
    padding 0 5px
    font-style normal
    color #BBB

article
  .list
    position relative
    display block
    min-height $browseheight
    border-bottom 1px solid $browsecolor
    transition-duration .24s
    .name
      font-weight bold
    .info
      font-size 10px
      .size
        padding-right 10px

    &:hover
      background #FFF

    &.lines
      .name
        padding 0 $browseheight
        width 100%
        line-height $browseheight * (3/5)px
        overflow ellipsis
      .info
        padding 0 $browseheight
        width 100%
        line-height $browseheight * (2/5)px
        overflow ellipsis
      .view
        position absolute
        top 0
        left 10px
        line-height $browseheight
        img
          display none !important

    &.block
      margin 0
      padding 5px
      line-height $blocksheight
      float left
      display inline-block
      border-right 1px solid $browsecolor
      .name, .info
        text-align center
        overflow ellipsis
      .view
        position relative
        i
          z-index 0
          position absolute
          display block
          top 50%
          left 50%
          margin-left -40px
          margin-top -40px
          width 80px
          height 80px
          text-align center
          line-height 80px
        img
          z-index 10
          position relative
          display block
          margin 10px auto

#error
  width 100%
  text-align center
  h1
    margin-top 25px
    font-weight 300
    line-height 60px
    font-size 60px
    letter-spacing -1px
    text-shadow 0 1px 0 #fff
  h2
    line-height 30px
    font-size 30px
    font-weight 300
  p
    margin 20px 0 40px
    color rgba(0, 0, 0, 0.5)


@media only screen and (min-width: 1081px)
  article .block
    width (100/6)%
    &:nth-child(6n)
      border-right none !important

@media only screen and (min-width:841px) and (max-width: 1080px)
  article .block
    width (100/5)%
    &:nth-child(5n)
      border-right none !important

@media only screen and (min-width:601px) and (max-width: 840px)
  article .block
    width (100/4)%
    &:nth-child(4n)
      border-right none !important

@media only screen and (max-width: 600px)
  article .block
    width (100/3)%
    &:nth-child(3n)
      border-right none !important

